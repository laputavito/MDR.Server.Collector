[2023-02-10 14:16:40] 배치 Thread 실행
[2023-02-10 14:16:40] Collector Demon이 시작되었습니다...
[2023-02-10 14:16:41] [ collect_query ] select login_id, name, login_pawd, dprtid, user_disp, e_mail, now(), '1001', status FROM vw_if_user
[2023-02-10 14:16:41] Data Parsing Start
[2023-02-10 14:16:41] Data Insert Stop - Total Count : 4
[2023-02-10 14:16:41] [ collect_query ] SELECT dprtid, pid, name, 'level', sort , '1', now(), '1001' FROM vw_if_dprt
[2023-02-10 14:16:41] Data Parsing Start
[2023-02-10 14:16:41] Data Insert Stop - Total Count : 7
[2023-02-10 14:16:41] [ collect_query ] select login_id as user_ip, 'mac', login_id, e_mail, frst_inst, now() FROM vw_if_user
[2023-02-10 14:16:41] Data Parsing Start
[2023-02-10 14:16:41] Data Insert Stop - Total Count : 4
[2023-02-10 14:16:44] java.net.URLClassLoader.findClass(Unknown Source)
java.lang.ClassLoader.loadClass(Unknown Source)
sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
java.lang.ClassLoader.loadClass(Unknown Source)
java.lang.Class.forName0(Native Method)
java.lang.Class.forName(Unknown Source)
mdr.server.collector.db.ConnectionPool.initialize(ConnectionPool.java:43)
mdr.server.collector.db.ConnectionPool.<init>(ConnectionPool.java:25)
mdr.server.collector.db.ConnectionPool.getInstance(ConnectionPool.java:34)
mdr.server.collecotr.main.CollectorProc.CollectorProc(CollectorProc.java:46)
mdr.server.collecotr.main.CollectorMultiDemon.run(CollectorMultiDemon.java:88)
java.lang.Thread.run(Unknown Source)

[2023-02-10 14:17:08] com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:827)
com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:447)
com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)
com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:199)
java.sql.DriverManager.getConnection(Unknown Source)
java.sql.DriverManager.getConnection(Unknown Source)
mdr.server.collector.db.ConnectionPool.initialize(ConnectionPool.java:46)
mdr.server.collector.db.ConnectionPool.<init>(ConnectionPool.java:25)
mdr.server.collector.db.ConnectionPool.getInstance(ConnectionPool.java:34)
mdr.server.collecotr.main.CollectorProc.CollectorProc(CollectorProc.java:46)
mdr.server.collecotr.main.CollectorMultiDemon.run(CollectorMultiDemon.java:88)
java.lang.Thread.run(Unknown Source)

[2023-02-10 14:17:32] com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:827)
com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:447)
com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)
com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:199)
java.sql.DriverManager.getConnection(Unknown Source)
java.sql.DriverManager.getConnection(Unknown Source)
mdr.server.collector.db.ConnectionPool.initialize(ConnectionPool.java:46)
mdr.server.collector.db.ConnectionPool.<init>(ConnectionPool.java:25)
mdr.server.collector.db.ConnectionPool.getInstance(ConnectionPool.java:34)
mdr.server.collecotr.main.CollectorProc.CollectorProc(CollectorProc.java:46)
mdr.server.collecotr.main.CollectorMultiDemon.run(CollectorMultiDemon.java:88)
java.lang.Thread.run(Unknown Source)

[2023-02-10 14:17:35] Log data collect end.
[2023-02-10 14:18:10] 배치 Thread 실행
[2023-02-10 14:18:10] Collector Demon이 시작되었습니다...
[2023-02-10 14:18:10] [ collect_query ] select login_id, name, login_pawd, dprtid, user_disp, e_mail, now(), '1001', status FROM vw_if_user
[2023-02-10 14:18:10] Data Parsing Start
[2023-02-10 14:18:10] Data Insert Stop - Total Count : 4
[2023-02-10 14:18:10] [ collect_query ] SELECT dprtid, pid, name, 'level', sort , '1', now(), '1001' FROM vw_if_dprt
[2023-02-10 14:18:10] Data Parsing Start
[2023-02-10 14:18:10] Data Insert Stop - Total Count : 7
[2023-02-10 14:18:10] [ collect_query ] select login_id as user_ip, 'mac', login_id, e_mail, frst_inst, now() FROM vw_if_user
[2023-02-10 14:18:10] Data Parsing Start
[2023-02-10 14:18:10] Data Insert Stop - Total Count : 4
[2023-02-10 14:18:13] [ condition query ] detected_date > $$condition_value$$ [ condition value ] '2022-12-26 11:38:31.052000000'
[2023-02-10 14:18:13] [ collect_query ] SELECT id, agent_agent_key, agent_name, conn_ip, department_full_patch, detected_date, detected_method, hash, local_detected_date, malware_id, name, `path`, treat_type FROM view_malware_log WHERE detected_date > '2022-12-26 11:38:31.052000000' ORDER BY detected_date
[2023-02-10 14:18:13] java.lang.NullPointerException
[2023-02-10 14:18:37] com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:827)
com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:447)
com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)
com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:199)
java.sql.DriverManager.getConnection(Unknown Source)
java.sql.DriverManager.getConnection(Unknown Source)
mdr.server.collector.db.ConnectionPool.initialize(ConnectionPool.java:46)
mdr.server.collector.db.ConnectionPool.<init>(ConnectionPool.java:25)
mdr.server.collector.db.ConnectionPool.getInstance(ConnectionPool.java:34)
mdr.server.collecotr.main.CollectorProc.CollectorProc(CollectorProc.java:46)
mdr.server.collecotr.main.CollectorMultiDemon.run(CollectorMultiDemon.java:88)
java.lang.Thread.run(Unknown Source)

[2023-02-10 14:19:01] com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:827)
com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:447)
com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)
com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:199)
java.sql.DriverManager.getConnection(Unknown Source)
java.sql.DriverManager.getConnection(Unknown Source)
mdr.server.collector.db.ConnectionPool.initialize(ConnectionPool.java:46)
mdr.server.collector.db.ConnectionPool.<init>(ConnectionPool.java:25)
mdr.server.collector.db.ConnectionPool.getInstance(ConnectionPool.java:34)
mdr.server.collecotr.main.CollectorProc.CollectorProc(CollectorProc.java:46)
mdr.server.collecotr.main.CollectorMultiDemon.run(CollectorMultiDemon.java:88)
java.lang.Thread.run(Unknown Source)

[2023-02-10 14:19:04] Log data collect end.
[2023-02-10 14:55:18] 배치 Thread 실행
[2023-02-10 14:55:18] Collector Demon이 시작되었습니다...
[2023-02-10 14:55:18] [ collect_query ] select login_id, name, login_pawd, dprtid, user_disp, e_mail, now(), '1001', status FROM vw_if_user
[2023-02-10 14:55:18] Data Parsing Start
[2023-02-10 14:55:19] Data Insert Stop - Total Count : 4
[2023-02-10 14:55:19] [ collect_query ] SELECT dprtid, pid, name, 'level', sort , '1', now(), '1001' FROM vw_if_dprt
[2023-02-10 14:55:19] Data Parsing Start
[2023-02-10 14:55:19] Data Insert Stop - Total Count : 7
[2023-02-10 14:55:19] [ collect_query ] select login_id as user_ip, 'mac', login_id, e_mail, frst_inst, now() FROM vw_if_user
[2023-02-10 14:55:19] Data Parsing Start
[2023-02-10 14:55:19] Data Insert Stop - Total Count : 4
[2023-02-10 14:55:22] [ condition query ] detected_date > $$condition_value$$ [ condition value ] '2022-12-26 11:38:31.052000000'
[2023-02-10 14:55:22] [ collect_query ] SELECT id, agent_agent_key, agent_name, conn_ip, department_full_patch, detected_date, detected_method, hash, local_detected_date, malware_id, name, `path`, treat_type FROM view_malware_log WHERE detected_date > '2022-12-26 11:38:31.052000000' ORDER BY detected_date
[2023-02-10 14:55:22] [ view_malware_log ] Log 수집 데이터 없음..... 파일생성 및 전송 미처리...
[2023-02-10 14:55:22] [ condition query ] blocked_date > $$condition_value$$ [ condition value ] '2022-12-26 08:57:58.005000000'
[2023-02-10 14:55:22] [ collect_query ] SELECT id, agent_agent_key, agent_name, blocked_date, blocked_program_path, conn_ip, department_full_path, now(), target_file_path FROM view_ransomware_block_log WHERE blocked_date > '2022-12-26 08:57:58.005000000' ORDER BY blocked_date
[2023-02-10 14:55:22] [ view_ransomware_block_log ] Log 수집 데이터 없음..... 파일생성 및 전송 미처리...
[2023-02-10 14:55:25] [ condition query ] updateDate = (select max(updateDate) from vwlghuserresult_4) [ condition value ] '2022-12-26'
[2023-02-10 14:55:25] [ collect_query ] SELECT UserId, UserName, deptName, computerName, ip, indexScore, updateDate, Item1, Item2, Item3, Item4, Item5, Item6, Item7, Item8, Item9, Item10, Item11, Item12, Item13, Item14, Item15 FROM vwlghuserresult_4 WHERE updateDate = (select max(updateDate) from vwlghuserresult_4) ORDER BY updateDate
[2023-02-10 14:55:25] Data Parsing Start
[2023-02-10 14:55:25] Data Insert Stop - Total Count : 3
[2023-02-10 14:55:29] [ condition query ] DETECTDATE > $$condition_value$$ [ condition value ] '2022-12-26 11:02:26'
[2023-02-10 14:55:29] [ collect_query ] SELECT MEDIALOGID, REGDATE, DETECTDATE, ASSETID, ASSETCODE, WANIP, LANIP, ORGID, ORGNAME, EMPID, EMPNAME, ISINSIDECOMPANY, PCLOGINID, MEDIATYPE, LOGRESULT, FILENAME, FILESIZE, SORTTYPE, FULLORGNAME, NETBIOSNAME, ISIMAGEEXISTS FROM vw_media WHERE DETECTDATE > '2022-12-26 11:02:26' ORDER BY DETECTDATE
[2023-02-10 14:55:29] [ vw_media ] Log 수집 데이터 없음..... 파일생성 및 전송 미처리...
[2023-02-10 14:55:29] [ condition query ] FILECOPYDATE > $$condition_value$$ [ condition value ] '2022-12-26 12:44:05'
[2023-02-10 14:55:29] [ collect_query ] SELECT SNO, USEREMPID, ORGNAME, EMPNAME, FILENAME, FILESIZE, FILECOPYDATE, FILEPATH, NETBIOSNAME, LOCATION, ISBLOCK FROM vw_usbrwlog WHERE FILECOPYDATE > '2022-12-26 12:44:05' ORDER BY FILECOPYDATE
[2023-02-10 14:55:29] [ vw_usbrwlog ] Log 수집 데이터 없음..... 파일생성 및 전송 미처리...
[2023-02-10 14:55:32] Log data collect end.
